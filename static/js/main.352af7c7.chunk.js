(this.webpackJsonpmovieproject=this.webpackJsonpmovieproject||[]).push([[0],{19:function(e,t,s){},20:function(e,t,s){"use strict";s.r(t);var c=s(2),n=s.n(c),a=s(9),i=s.n(a),r=s(7),o=s.n(r),l=s(10),j=s(12),m=s(4),u=s(11),d=s(8),b=s(1);var h=function(e){var t=e.items,s=e.removeItem;return Object(b.jsx)("div",{className:"film-list",children:t.map((function(e){return Object(b.jsxs)("div",{className:"film-item",children:[Object(b.jsx)("p",{className:"title",children:e.title}),Object(b.jsxs)("div",{className:"data",children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{className:"img",src:"https://image.tmdb.org/t/p/original/".concat(e.poster_path)})}),Object(b.jsxs)("div",{className:"film-data",children:[Object(b.jsx)("p",{children:e.overview}),Object(b.jsxs)("div",{className:"film-details",children:[Object(b.jsxs)("p",{children:["Release Date : ",e.release_date]}),Object(b.jsxs)("p",{children:["Runtime : ",e.runtime," min"]}),Object(b.jsxs)("p",{children:["Language : ",e.original_language]})]}),Object(b.jsxs)("div",{className:"imdb",children:[Object(b.jsx)(d.a,{size:"50px"}),Object(b.jsx)("p",{children:e.vote_average})]})]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"button",className:"delete-btn",onClick:function(){return s(e.id)},children:Object(b.jsx)(d.b,{})})})]}),Object(b.jsx)("hr",{className:"line"})]})}))})},O=function(e){var t=e.type,s=e.msg,n=e.removeAlert,a=e.list;return Object(c.useEffect)((function(){var e=setTimeout((function(){n()}),3e3);return function(){return clearTimeout(e)}}),[a]),Object(b.jsx)("p",{className:"alert alert-".concat(t),children:s})};s(19);var f=function(){var e=Object(c.useState)(""),t=Object(m.a)(e,2),s=t[0],n=t[1],a=Object(c.useState)(localStorage.getItem("list")?JSON.parse(localStorage.getItem("list")):[]),i=Object(m.a)(a,2),r=i[0],d=i[1],f=Object(c.useState)({show:!1,msg:"",typ:""}),p=Object(m.a)(f,2),v=p[0],g=p[1],x=Object(c.useState)([]),N=Object(m.a)(x,2),y=N[0],w=N[1];Object(c.useEffect)((function(){localStorage.setItem("list",JSON.stringify(r))}),[r]);var k=function(){var e=Object(l.a)(o.a.mark((function e(){var t,s,c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],s=1;case 2:if(!(s<1e3)){e.next=24;break}return e.prev=3,e.next=6,fetch("https://api.themoviedb.org/3/movie/".concat(s,"?api_key=71005cf86c77dc847620529a14a71e4a"));case 6:if(200===(c=e.sent).status){e.next=11;break}console.log("error"),e.next=16;break;case 11:return e.next=13,c.json();case 13:n=e.sent,t.push(n),console.log("updated");case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),console.log(e.t0);case 21:s++,e.next=2;break;case 24:w(t);case 25:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){k()}),[]),Object(b.jsxs)("section",{className:"section-center",children:[Object(b.jsxs)("div",{className:"film-form",children:[v.show&&Object(b.jsx)(O,{type:v.type,msg:v.msg,removeAlert:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";g({show:e,type:t,msg:s})}}),Object(b.jsx)("h1",{children:"Boots-On-You"}),Object(b.jsxs)("div",{className:"form-control",children:[Object(b.jsx)("input",{type:"text",className:"films",placeholder:"eg. Fight Club",value:s,onChange:function(e){return n(e.target.value)}}),Object(b.jsx)("button",{type:"submit",className:"submit-btn",onClick:function(){if(s){g({show:!0,msg:"Item added to list",type:"success"});var e=y.find((function(e){return e.title.toLowerCase()===s.toLowerCase()}));e?(d([].concat(Object(j.a)(r),[e])),n("")):(g({show:!0,msg:"Cannot find movie",type:"danger"}),n(""))}else g({show:!0,msg:"Please enter a movie name",type:"danger"})},children:Object(b.jsx)(u.a,{})})]})]}),Object(b.jsxs)("div",{className:"film-container",children:[Object(b.jsx)("div",{children:Object(b.jsx)(h,{items:r,removeItem:function(e){g({show:!0,msg:"Item Removed",type:"danger"}),d(r.filter((function(t){return t.id!==e})))}})}),Object(b.jsx)("button",{className:"clear-btn",onClick:function(){g({show:!0,msg:"clearing the list",type:"danger"}),d([])},children:"clear items"})]})]})};i.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(f,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.352af7c7.chunk.js.map